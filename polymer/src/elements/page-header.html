<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-styles/typography.html">
<link rel="import" href="../../bower_components/app-layout/app-grid/app-grid-style.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">

<dom-module id="page-header">
  <template>
    <style include="iron-flex">
      :host {
        display: block;
        padding: 25px;
        background: white;
        box-shadow: 0 1px 2px 1px rgba(0, 0, 0, .1);
      }

      .container {
        @apply --layout-horizontal;
        @apply --layout-center;
      }

      h1 {
        @apply(--paper-font-title);
        margin: 0;
      }

      paper-button {
        color:#666;
        margin-right:15px;
        margin-left:-.35em;
        line-height:1em;
      }

      .back-button {
        text-decoration: none;
      }

    </style>
    <div class="container">
      <template is="dom-if" if="[[ back ]]">
        <a href="[[ backUrl ]]" class="back-button">
          <paper-button>
            <iron-icon icon="chevron-left"></iron-icon>
            back
          </paper-button>
        </a>
      </template>

      <h1 class="flex">[[title]]</h1>
    </div>
  </template>

  <script>
    Polymer({
      is: 'page-header',

      behaviors: [
        App.Behaviors.ReduxBehavior,
        App.Behaviors.RoutingBehavior,
      ],

      properties: {
        title: String,

        back: String,

        backUrl: {
          type: String,
          value: ''
        },
      },

      attached: function() {
        if (this.back) {
          this.backUrl = this.buildUrl(this._baseUrl, this.back);
        }
      },
    });
  </script>
</dom-module>
