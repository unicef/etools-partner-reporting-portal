<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">

<link rel="import" href="../polyfills/es6-shim.html">
<link rel="import" href="../styles/buttons.html">
<link rel="import" href="./calculation-methods-demo-modal.html">
<link rel="import" href="../redux/store.html">
<link rel="import" href="../behaviors/localize.html">
<link rel="import" href="../redux/actions/localize.html">

<dom-module id="calculation-methods-info-bar">
  <template>
    <style include="button-styles data-table-styles table-styles iron-flex iron-flex-alignment iron-flex-reverse">
      :host {
        display: block;
        background: #FCFCFC;
        padding: 16px;
        margin-bottom: 25px;
      }

      iron-icon {
        color: var(--paper-grey-600);
      }

      span {
        color: var(--paper-grey-600);
      }

      iron-icon {
        margin-right: 5px;
      }

      .buttons {
        margin: 1em 0;
      }
    </style>
    <div class="layout horizontal justified center-aligned">
      <div class="layout horizontal center-center">
        <iron-icon icon="icons:info"></iron-icon>
        <span>[[localize('to_help_you_decide')]]:</span>
      </div>
      <div>
        <paper-button id="locations" on-tap="_openLocationsModal" class="btn-primary">
          [[localize('across_locations')]]
        </paper-button>

        <paper-button id="periods" on-tap="_openPeriodsModal" class="btn-primary">
          [[localize('across_reporting_periods')]]
        </paper-button>
      </div>
    </div>
    <calculation-methods-demo-modal id="locations-modal" domain="locations" items=3>
    </calculation-methods-demo-modal>
    <calculation-methods-demo-modal id="periods-modal" domain="reporting periods" items=2>
    </calculation-methods-demo-modal>

  </template>

  <script>
    Polymer({
      is: 'calculation-methods-info-bar',

      behaviors: [
        App.Behaviors.ReduxBehavior,
        App.Behaviors.LocalizeBehavior,
        Polymer.AppLocalizeBehavior,
      ],

      _openLocationsModal: function () {
        this.shadowRoot.querySelector('#locations-modal').open();
      },

      _openPeriodsModal: function () {
        this.shadowRoot.querySelector('#periods-modal').open();
      },
    });
  </script>
</dom-module>
