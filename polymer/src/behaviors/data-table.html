<script>
  (function () {
    'use strict';

    App.Behaviors = App.Behaviors || {};

    App.Behaviors.DataTableBehavior = {
      _pageSizeChanged: function (e) {
        this.set('pageSize', +e.detail.value);

        if (this._pageNumberInitialized) {
          this.set('pageNumber', 1);
        }
      },

      _pageNumberChanged: function (e) {
        this.set('pageNumber', +e.detail.value);

        this.async(function () {
          this.set('_pageNumberInitialized', true);
        });
      },

      // TODO: Figure out why just passing params to etools-prp-ajax instead isn't working.
      _computePaginatedUrl: function (baseUrl, pageSize, pageNumber) {
        var size = '?page_size=' + pageSize;
        var page = '&page=' + pageNumber;
        return baseUrl + size + page;
      },
    };

  }());
</script>
